## Lab2

# Варіант 7

Неорієнтований граф без петель та кратних ребер заданий матрицею суміжності. Потрібно визначити, чи цей граф є деревом.

## Вхідні дані

У вхідному файлі INPUT.TXT записано спочатку число N - кількість вершин графа (від 1 до 100). Далі записана матриця суміжності розміром N N, в якій 1 позначає наявність ребра, 0 - його відсутність. Матриця симетрична щодо головної діагоналі.

## Вихідні дані

У вихідний файл OUTPUT.TXT виведіть повідомлення YES, якщо граф є деревом, і NO інакше.

## Приклади

| №  | INPUT.TXT        | OUTPUT.TXT  |
|----|------------------|-------------|
| 1  |3 <br>0 1 0<br>1 0 1<br>0 1 0| YES  |


### Запуск програми
```bash
dotnet run --project App
```
### Запуск тестів
Без проміжних результатів
```bash
dotnet test
```
З проміжними результатами
```bash
dotnet test --logger "console;verbosity=detailed"
```

### Результати

Вхідні дані беруться з файлу `INPUT.TXT`, результати записуються в файл `OUTPUT.TXT`

### Алгоритм виконання коду


1. Зчитування вхідних даних:

- Створюється об'єкт класу GraphChecker, якому передається шлях до файлу INPUT.TXT.
- Конструктор GraphChecker викликає метод LoadGraphFromFile для завантаження графа.

2.Метод LoadGraphFromFile:

- Зчитує всі рядки з вхідного файлу.
- Перевіряє, чи файл не порожній. Якщо файл порожній, кидається виняток FormatException.
- Викликає метод ParseVerticesCount для зчитування кількості вершин графа.
- Викликає метод ParseAdjacencyMatrix для зчитування матриці суміжності графа.
- Виводить зчитану матрицю суміжності на консоль.

3. Метод ParseVerticesCount:

- Зчитує перший рядок файлу, який вказує кількість вершин графа (N).
- Перевіряє, чи це додатнє ціле число. Якщо це не так, кидається виняток FormatException.
- Ініціалізує матрицю суміжності розміром N×N.

4. Метод ParseAdjacencyMatrix:

- По черзі обробляє наступні N рядків файлу як рядки матриці суміжності.
- Перевіряє, чи довжина кожного рядка дорівнює N, а також чи всі елементи є числами 0 або 1. У разі помилки кидається виняток FormatException.
- Заповнює матрицю суміжності значеннями.

5. Перевірка графа (метод IsTree):

- Викликає методи HasCycle, IsConnected і HasCorrectEdgeCount, які перевіряють три умови:
1) Граф не містить циклів (HasCycle).
2) Граф є зв'язним (IsConnected).
3) Кількість ребер дорівнює N−1 (HasCorrectEdgeCount).

6. Метод HasCycle:

Викликає рекурсивний метод DetectCycle, який перевіряє наявність циклів, обходячи граф у глибину (DFS).
Якщо знайдено цикл, повертає true, інакше — false.

7. Метод IsConnected:

- Використовує DFS (DepthFirstSearch) для перевірки зв'язності графа.
- Обчислює кількість відвіданих вершин (CountVisitedVertices) після обходу.
- Якщо кількість відвіданих вершин дорівнює N, граф зв'язний.

8. Метод HasCorrectEdgeCount:

- Підраховує кількість ребер у графі (перебираючи верхній трикутник матриці суміжності).
Порівнює отримане значення з N−1.

9. Результат перевірки:

Якщо всі умови виконуються, метод IsTree повертає true. У цьому випадку в консоль і файл OUTPUT.TXT записується YES.
Якщо хоча б одна умова не виконується, результатом буде NO.
